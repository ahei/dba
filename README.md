remote
======

remote是一个让你可以同时在多台远程机器上执行你指定命令的命令.


前提和原理
--------
remote命令原理很简单, 就是for循环ssh到每台机器上执行命令, 所以使用该命令的前提是当前机器必须和每台机器增加免密码输入, 否则你会累死...


使用方法
------

```
remote 可选选项 机器列表 命令
```
机器列表有三种指定办法:
* 提供集群名, 集群配置文件为/etc/remoterc和~/.remoterc, /etc/remtoerc为全局配置文件, 当同一个集群同时出现在全局配置文件和用户配置文件中时, 优先使用用户配置文件. 
  上述配置文件其实都是shell脚本, 集群名为shell变量, 比如 redis=“redis0 redis1 redis2”, 则表示集群redis有三台机器组成. 该办法是比较方便的最常用的指定机器列表的方法.

* -f 机器列表文件

* -H 机器列表字符串

命令可以包含参数, 带参数的命令可以不用引号引用起来, 比如: remote redis ls -l test.sh

由于命令可能会包含选项, 所以给remote指定的选项必须紧接着remote后面.


常用选项
------
* -l 登录用户, remote -l work redis date, 以work用户身份运行date命令. 不提供该选项时默认以当前用户去别的机器上执行命令

* -n 不运行命令, 只是打印将要执行的命令, 调试用

* -q 不打印要执行的命令

* -g 默认所有机器的命令同时并行在后台执行, 该选项告诉remote串行执行命令

* -N 如果本台机器也在指定的机器列表里面, 不执行本机器上的命令. 有时候想先在本机上试试要执行的命令, 然后再批量在其他机器上执行, 这时候该选项就很有用. 比如小流量时该选项就很有用

* -t 秒数 在准备到下一台机器上执行命令之前先sleep这么长时间. 该选项实现了波浪式部署

* -c 拷贝文件模式, 参考下面的rcp命令介绍

* -P remote打印命令执行结果时, 为了好区分, 会把机器名作为前缀打印出, 但这对于对这些命令结果的后续用其他命令处理可能不太方便, 这个选项告诉remote不要打印机器名前缀

其他不常用的选项可以通过remote -h查看



rcp
===



lgrep
=====